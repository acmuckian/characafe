{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container">
    <div class="row mx-auto justify-content-center">
        <div class="contact-us col-lg-9 col-md-9 col-12">
            <h2>Newsletter</h2>

            <p>Characafe has a monthly newsletter bringing a spotlight to our characters, the cafe, menu updates and new
                goods!
                To sign up to this newsletter straight in your inbox, please put in your e-mail address below:
            </p>
            <form method="post" action="{% url 'subscribe' %}">
                {% csrf_token %}
                {{ newsletter_form|crispy }}
                <button type="submit" class="btn btn-secondary">Subscribe</button>
            </form>
        </div>


        <div class="contact-us mx-auto col-lg-9 col-md-9 col-12">
            <h2>Contact Us</h2>

            <p>Thank you for using our website! We are always looking for ways to innovate and improve on our website
                for
                the
                user
                experience, and welcome feedback. ðŸŒ¼ 
            </p>
            <form method="post" action="{% url 'contact' %}" id="contact-form">
                {{ contact_form | crispy }}
                {% csrf_token %}
                <button type="submit" class="btn btn-secondary">Submit</button>
            </form>
        </div>
        
{% endblock content %}

{% block postloadjs %}
{{ block.super }}
{% if request.GET.contacted == "1" %}
<script>
document.addEventListener('DOMContentLoaded', function () {
    var modal = new bootstrap.Modal(document.getElementById('contactModal'));
    modal.show();
});
</script>
{% endif %}

{% if request.GET.subscribed == "1" %}
<script>
document.addEventListener('DOMContentLoaded', function () {
    var modal = new bootstrap.Modal(document.getElementById('subscribeModal'));
    modal.show();
});
</script>
{% endif %}
{% endblock %}